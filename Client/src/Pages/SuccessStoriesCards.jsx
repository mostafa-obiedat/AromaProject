// import React, { useState, useEffect } from 'react';

// const SuccessStoriesCards = () => {
//   const [stories, setStories] = useState([]);
//   const [loading, setLoading] = useState(true);
//   const [error, setError] = useState(null);

//   // Fetch data from your API endpoint that connects to PostgreSQL
//   useEffect(() => {
//     const fetchStories = async () => {
//       try {
//         setLoading(true);
//         // Updated to use port 4000 instead of 5000
//         const response = await fetch('http://localhost:4000/api/success-stories');
        
//         if (!response.ok) {
//           throw new Error(`Failed to fetch success stories: ${response.status} ${response.statusText}`);
//         }
        
//         // Handle potential JSON parsing errors
//         let data;
//         try {
//           data = await response.json();
//         } catch (jsonError) {
//           console.error('JSON parsing error:', jsonError);
//           const text = await response.text();
//           console.error('Received non-JSON response:', text.substring(0, 500) + '...');
//           throw new Error('Received non-JSON response from server');
//         }
        
//         // Ensure data is an array
//         if (!Array.isArray(data)) {
//           console.error('Received non-array data:', data);
//           data = [];
//         }
        
//         setStories(data);
//         setLoading(false);
//       } catch (error) {
//         console.error('Error fetching stories:', error);
//         setError(error.message);
//         setLoading(false);
//       }
//     };

//     fetchStories();
//   }, []);

//   // For debugging, display sample data when there's an error
//   const useSampleData = () => {
//     const sampleStories = [
//       {
//         id: 1,
//         studentName: "رقية",
//         university: "جامعة الحسين بن طلال",
//         story: "قصة النجاح في المثابرة والإصرار على تحطيم الصعوبات وتجاوز العقبات والتركيز على..."
//       },
//       {
//         id: 2,
//         studentName: "مجد",
//         university: "جامعة اليرموك",
//         story: "أتذكر عندما كنت في عمر السادسة عندما طلبت مني المعلمة أن أكتب ما السبورة ماذا أريد أن أصبح في المستقبل..."
//       }
//     ];
//     setStories(sampleStories);
//     setLoading(false);
//     setError(null);
//   };

//   if (loading) {
//     return <div className="text-center py-8">جاري تحميل قصص النجاح...</div>;
//   }

//   if (error) {
//     return (
//       <div className="text-center py-8">
//         <div className="text-red-600 mb-4">حدث خطأ: {error}</div>
//         <button 
//           onClick={useSampleData}
//           className="px-4 py-2 bg-blue-500 text-white rounded"
//         >
//           عرض بيانات تجريبية
//         </button>
//       </div>
//     );
//   }

//   return (
//     <div className="w-full max-w-6xl mx-auto p-4 rtl">
//       <h2 className="text-3xl font-bold text-center mb-8 text-gray-800">قصص النجاح</h2>
      
//       <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
//         {stories.map((story) => (
//           <div 
//             key={story.id} 
//             className="bg-gray-50 rounded-lg p-8 flex flex-row-reverse items-start"
//           >
//             <div className="w-2/5 flex justify-center">
//               <div className="rounded-full bg-purple-200 w-40 h-40 overflow-hidden flex items-center justify-center">
//                 <img 
//                   src={story.imageUrl || "/api/placeholder/400/400"} 
//                   alt={story.studentName} 
//                   className="w-full h-full object-cover"
//                   onError={(e) => {
//                     e.target.src = "/api/placeholder/400/400";
//                   }}
//                 />
//               </div>
//             </div>
            
//             <div className="w-3/5 text-right pr-4">
//               <div className="mb-1 text-gray-600">{story.university}</div>
//               <h3 className="text-2xl font-bold mb-4" style={{ color: '#940066' }}>{story.studentName}</h3>
//               <p className="text-gray-800 mb-4 leading-relaxed">
//                 {story.story}
//               </p>
//               <button 
//                 className="inline-block px-4 py-2 rounded text-white text-sm font-bold"
//                 style={{ backgroundColor: '#940066' }}
//               >
//                 <span className="ml-1">شارك</span> ↗
//               </button>
//             </div>
//           </div>
//         ))}
//       </div>
//     </div>
//   );
// };

// export default SuccessStoriesCards;



import React, { useState } from 'react';

const SuccessStoriesCards = () => {
  // بيانات ثابتة لـ 9 طلاب من الجامعات الأردنية
  const stories = [
    {
      id: 1,
      fullname: "أحمد محمد",
      university: "جامعة الأردنية",
      major: "هندسة الكمبيوتر",
      story: "بدأت قصة أحمد في الجامعة بتحديات كبيرة، لكن بفضل عزيمته استطاع تجاوز الصعوبات...",
      fullStory: "بدأت رحلة أحمد في مجال هندسة الكمبيوتر بمواجهة العديد من التحديات. كانت بدايته صعبة جدًا حيث واجه صعوبات في فهم المفاهيم الأساسية وكان يقضي ساعات طويلة في المكتبة لمحاولة اللحاق بزملائه. لكن بفضل إصراره وعزيمته القوية، نجح في التغلب على جميع التحديات التي واجهته. في السنة الثانية، التحق ببرنامج تدريبي متميز مع إحدى شركات البرمجيات الرائدة في الأردن، مما ساعده على اكتساب مهارات عملية جديدة ساهمت بشكل كبير في تقدم مسيرته الأكاديمية. أنشأ أحمد مجموعة دراسية مع بعض زملائه، وبدأوا في العمل على مشاريع برمجية خارج نطاق المنهج الدراسي، مما أتاح له فرصة لتطبيق المعرفة النظرية بشكل عملي. وفي السنة الثالثة، قام بتطوير تطبيق هاتفي مبتكر لمساعدة الطلاب الجدد في الجامعة، والذي نال إعجاب أساتذته وزملائه. قبل التخرج، حصل أحمد على عرض عمل من إحدى الشركات العالمية في مجال التكنولوجيا، وذلك بفضل الخبرات والمهارات التي اكتسبها خلال سنوات دراسته. اليوم، يعمل أحمد كمهندس برمجيات ناجح ويطمح لمواصلة تعليمه العالي في الخارج."
    },
    {
      id: 2,
      fullname: "فاطمة علي",
      university: "جامعة اليرموك",
      major: "الطب",
      story: "فاطمة هي طالبة متميزة في الطب، تحدت الظروف وحققت نجاحًا كبيرًا في دراستها...",
      fullStory: "فاطمة طالبة متميزة في كلية الطب بجامعة اليرموك، بدأت رحلتها الطبية واجهتها تحديات مالية واجتماعية كبيرة. كانت تنحدر من عائلة متوسطة الدخل وكانت أول فتاة في عائلتها تدخل كلية الطب، مما جعل ضغط التوقعات عليها كبيرًا. واجهت فاطمة العديد من التحديات في البداية، خاصة في السنوات الأولى المليئة بالمواد العلمية المكثفة والمختبرات الطويلة. كانت تدرس لساعات طويلة في المكتبة وتضحي بوقت الراحة والنوم، إلا أنها استطاعت التغلب على كل العقبات بفضل إصرارها وحبها لمجال الطب. في السنة الثالثة، تفوقت فاطمة أكاديميًا وحصلت على تقدير امتياز مما أهلها للحصول على منحة دراسية في الخارج للتدريب الصيفي في أحد المستشفيات العالمية. خلال تلك الفترة، اكتسبت مهارات بحثية متقدمة وتعرفت على أحدث التقنيات الطبية. بعد عودتها، قررت فاطمة تأسيس مجموعة دعم للطالبات في كلية الطب لمساعدتهن على تجاوز التحديات التي واجهتها، وأصبحت مصدر إلهام للعديد من الفتيات في جامعتها. قبل التخرج، نشرت فاطمة بحثًا علميًا مع أحد أساتذتها في مجلة طبية معروفة، وهو ما فتح لها آفاقًا جديدة. اليوم، تكمل فاطمة دراستها في تخصص دقيق وتطمح أن تعود للأردن لخدمة المجتمع المحلي وإحداث تغيير إيجابي في مجال الرعاية الصحية."
    },
    {
      id: 3,
      fullname: "محمد خالد",
      university: "جامعة مؤتة",
      major: "الهندسة المدنية",
      story: "محمد تميز في مجال الهندسة المدنية وكان يواجه تحديات كبيرة في الدروس العملية...",
      fullStory: "محمد خالد طالب متميز في الهندسة المدنية بجامعة مؤتة، كان دائمًا شغوفًا بالبناء والتصميم منذ طفولته. واجه محمد تحديات أكاديمية كبيرة في بداية دراسته الجامعية، خاصة في الجوانب العملية للهندسة المدنية والتطبيقات الميدانية. كان يجد صعوبة في ربط المفاهيم النظرية بالتطبيقات العملية، مما أثر على أدائه في السنة الأولى. بالرغم من التحديات التي واجهته في البداية، إلا أن محمد كان يتمتع بإصرار عالٍ على التفوق. قرر التغلب على نقاط ضعفه من خلال التطوع في مشاريع إنشائية محلية خلال العطلات، والبحث عن فرص تدريبية إضافية خارج المنهج الدراسي. بدأ في العمل بمشاريع تدريبية خارجية مع مكاتب هندسية في المدينة، مما ساعده بشكل كبير على تحسين مهاراته العملية وفهم جوانب المهنة بشكل أفضل. في السنة الثالثة، تمكن محمد من ابتكار طريقة جديدة لتصميم أحد المشاريع الطلابية مما لفت انتباه أساتذته. حصل على فرصة للمشاركة في مسابقة هندسية إقليمية، وحقق فيها المركز الثاني مع فريقه الطلابي. هذا النجاح فتح له أبواب التدريب في إحدى أكبر شركات المقاولات في الأردن. قبل التخرج، أصبح محمد يشارك في تدريب زملائه الأصغر سنًا، ويساعدهم في فهم الجوانب العملية للهندسة المدنية. اليوم، يعمل محمد في مشروع تطوير البنية التحتية الوطني، ويطمح لاستكمال دراسته العليا في مجال هندسة الزلازل."
    },
    {
      id: 4,
      fullname: "ليلى حسن",
      university: "جامعة العلوم والتكنولوجيا الأردنية",
      major: "البيولوجيا",
      story: "ليلى دخلت مجال البيولوجيا وحلمت بالمساهمة في البحث العلمي رغم التحديات التي واجهتها...",
      fullStory: "ليلى حسن طالبة موهوبة في مجال البيولوجيا بجامعة العلوم والتكنولوجيا الأردنية، كانت منذ صغرها تحلم بالعمل في المجال البحثي والمساهمة في اكتشافات علمية مهمة. عندما التحقت بالجامعة، واجهت ليلى تحديات متعددة، من بينها نقص الموارد المخبرية المتقدمة ومحدودية فرص التدريب العملي في مجال البحث العلمي. واجهت ليلى العديد من الصعوبات في دراسة البيولوجيا، لكنها اجتازت كل هذه التحديات بتفوق وإصرار. كانت تقضي ساعات إضافية في المختبر، وتتطوع للمساعدة في أبحاث الأساتذة، وتبحث باستمرار عن منح ودورات تدريبية لتطوير مهاراتها. في السنة الثانية، قامت ليلى بتنظيم مجموعة بحثية طلابية تركز على دراسة التنوع البيولوجي في المناطق المحمية في الأردن. نجحت المجموعة في جمع بيانات مهمة أدت إلى نشر ورقة بحثية في مجلة علمية محلية، مما كان إنجازًا غير مسبوق لطلبة في هذه المرحلة. حصلت ليلى على فرصة للعمل في أحد المشاريع البحثية الهامة المتعلقة بمقاومة البكتيريا للمضادات الحيوية، وهو مجال بالغ الأهمية في الطب الحديث. قدمت مساهمات مهمة في المشروع، وأصبحت نموذجًا يحتذى به للطالبات في قسمها. قبل التخرج، حصلت ليلى على منحة دراسية لحضور مؤتمر علمي دولي، حيث قدمت نتائج أبحاثها وتواصلت مع باحثين من مختلف أنحاء العالم. اليوم، تكمل ليلى دراستها العليا في مجال التكنولوجيا الحيوية، وتعمل على تطوير طرق مبتكرة لمكافحة الأمراض المعدية."
    },
    {
      id: 5,
      fullname: "يوسف علي",
      university: "جامعة الطفيلة التقنية",
      major: "الهندسة الكهربائية",
      story: "يوسف طالب متميز في مجال الهندسة الكهربائية، ورغم التحديات التي واجهها إلا أنه أصر على النجاح...",
      fullStory: "يوسف علي طالب طموح من مدينة الطفيلة، حيث نشأ في بيئة متواضعة ولكنها مليئة بالدعم والتشجيع. التحق بتخصص الهندسة الكهربائية في جامعة الطفيلة التقنية مدفوعًا بشغفه بعالم الإلكترونيات والطاقة. يوسف واجه تحديات كبيرة في مجال الهندسة الكهربائية، خاصة في المواد التي تتطلب مهارات رياضية متقدمة وتفكيرًا تحليليًا عميقًا. كان الوصول إلى المعدات والتقنيات الحديثة محدودًا، مما جعل الجانب العملي من دراسته أكثر صعوبة. ولكن بفضل إصراره واجتهاده، تمكن يوسف من التفوق على زملائه. قام بتصميم مشاريع صغيرة في منزله باستخدام قطع إلكترونية بسيطة، واستفاد من موارد التعلم عبر الإنترنت لتعويض نقص المعدات المتطورة. في السنة الثالثة، قام يوسف بتطوير نظام ذكي لترشيد استهلاك الطاقة في المباني، وهو المشروع الذي فاز بالمركز الأول في مسابقة الابتكار الطلابي على مستوى الجامعات الأردنية. هذا النجاح لفت انتباه عدة شركات محلية وإقليمية، وحصل يوسف على عرض للتدريب في إحدى الشركات الرائدة في مجال الطاقة المتجددة. خلال فترة التدريب، أظهر يوسف تفانيًا ومهارة استثنائية، مما أدى إلى حصوله على عرض عمل في الشركة فور تخرجه. بالإضافة إلى ذلك، قام يوسف بتنظيم ورش عمل في جامعته لمشاركة معرفته وخبراته مع زملائه، معتقدًا أن النجاح الحقيقي يكمن في رفع مستوى المجتمع بأكمله. اليوم، يعمل يوسف في شركة عالمية في مجال تخصصه، ويعمل على مشاريع مبتكرة في مجال الطاقة المتجددة، مع خطط لإطلاق مشروعه الخاص في المستقبل."
    },
    {
      id: 6,
      fullname: "مريم ناصر",
      university: "جامعة آل البيت",
      major: "الاقتصاد",
      story: "مريم كانت دائمًا متفوقة في مجال الاقتصاد، وكانت تسعى دائمًا لتحقيق أهدافها رغم التحديات...",
      fullStory: "مريم ناصر طالبة اقتصاد متميزة في جامعة آل البيت، نشأت في عائلة تقدر التعليم رغم الظروف الاقتصادية المتواضعة. كانت مريم تحلم منذ صغرها بالعمل في مجال الاقتصاد والمال، متأثرة بالتحديات الاقتصادية التي تواجه بلدها والمنطقة. دخلت مريم الجامعة بعزيمة قوية وطموح كبير، لكنها واجهت العديد من الصعوبات في بداية دراستها، خاصة في المقررات التي تتطلب مهارات تحليلية وإحصائية متقدمة. بالإضافة إلى ذلك، كانت تواجه تحديات في الموازنة بين دراستها والعمل الجزئي الذي كانت تقوم به لدعم تعليمها. ولكن بفضل إصرارها وتفانيها في دراسة الاقتصاد، تمكنت مريم من التفوق في دراستها وأصبحت من أوائل دفعتها. خلال سنوات دراستها، قامت مريم بإجراء العديد من الأبحاث حول التحديات الاقتصادية في الأردن، وشاركت في عدة مؤتمرات طلابية حيث قدمت رؤى مبتكرة لتحسين الاقتصاد المحلي. في السنة الثالثة، حصلت مريم على فرصة للتدريب في البنك المركزي الأردني، حيث أظهرت قدرات استثنائية في تحليل البيانات الاقتصادية وصياغة التقارير. هذه التجربة أثرت معرفتها العملية بشكل كبير وعززت فهمها للسياسات النقدية والمالية. بفضل تفوقها الأكاديمي وخبرتها العملية، تم قبول مريم في أفضل برامج ماجستير الاقتصاد في جامعات عالمية مرموقة، وحصلت على منحة دراسية كاملة لإكمال دراستها العليا. قبل مغادرتها، قامت مريم بتأسيس نادٍ للاقتصاد في جامعتها، بهدف تشجيع الطلاب على فهم القضايا الاقتصادية المعاصرة والمشاركة في حلها. اليوم، تكمل مريم دراستها العليا وتطمح للعودة إلى الأردن للمساهمة في تطوير السياسات الاقتصادية وتحسين مستوى المعيشة في بلدها."
    },
    {
      id: 7,
      fullname: "سامي عبد الله",
      university: "جامعة البلقاء التطبيقية",
      major: "إدارة الأعمال",
      story: "سامي كان يحلم دائمًا بأن يكون رائد أعمال متميزًا، فكان يعمل على تطوير نفسه باستمرار...",
      fullStory: "سامي عبد الله طالب طموح في تخصص إدارة الأعمال بجامعة البلقاء التطبيقية، نشأ في عائلة من رواد الأعمال الصغار، مما غرس فيه حب ريادة الأعمال منذ سن مبكرة. كان سامي يحلم دائمًا بأن يكون رائد أعمال ناجحًا يساهم في تنمية اقتصاد بلده وخلق فرص عمل للشباب. واجه سامي تحديات كبيرة خلال دراسته الجامعية، منها الفجوة بين المناهج الأكاديمية والمهارات العملية المطلوبة في سوق العمل، بالإضافة إلى صعوبة الموازنة بين الدراسة والعمل في المشروع العائلي. سامي بدأ حياته المهنية في مجال إدارة الأعمال بكل عزيمة وإصرار، واستغل كل فرصة متاحة لاكتساب المهارات والخبرات اللازمة. التحق بدورات تدريبية متعددة في مجالات التسويق الرقمي، وإدارة المشاريع، والتمويل، وحضر العديد من ورش العمل والمؤتمرات التي تركز على ريادة الأعمال. في السنة الثانية، بدأ سامي مشروعه الخاص الصغير لتقديم خدمات التسويق الرقمي للشركات المحلية، مستفيدًا من المهارات التي اكتسبها خلال دراسته. رغم البداية المتواضعة، نجح المشروع تدريجيًا وبدأ في جذب عملاء جدد، مما سمح له بتوسيع نطاق خدماته. خلال السنة الثالثة، شارك سامي في مسابقة وطنية لريادة الأعمال، حيث قدم خطة عمل مبتكرة لمنصة تجمع بين المنتجين المحليين والمستهلكين. نال مشروعه إعجاب لجنة التحكيم وحصل على تمويل أولي لتطويره. نجح سامي في تطوير مشروعه الخاص الذي نال إعجاب العديد من المستثمرين، وتمكن من جذب استثمارات إضافية قبل تخرجه. أثناء دراسته، حرص سامي على مشاركة خبراته مع زملائه، ونظم عدة ورش عمل في الجامعة حول أساسيات ريادة الأعمال والتسويق الرقمي. اليوم، يدير سامي شركته الناجحة التي توظف عددًا من خريجي جامعته، ويعمل على توسيع أعماله إلى الأسواق الإقليمية، مع التركيز على دعم المشاريع الصغيرة والمتوسطة في الأردن."
    },
    {
      id: 8,
      fullname: "سارة ياسر",
      university: "جامعة الحسين بن طلال",
      major: "التربية",
      story: "سارة كانت طالبة متفوقة في مجال التربية، وعملت جاهدًا لتحقيق أحلامها رغم الصعوبات التي واجهتها...",
      fullStory: "سارة ياسر طالبة متميزة في كلية التربية بجامعة الحسين بن طلال، نشأت في منطقة نائية حيث كانت فرص التعليم العالي محدودة، خاصة للفتيات. منذ طفولتها، كانت سارة مفتونة بمهنة التدريس وكانت تحلم بأن تصبح معلمة تلهم طلابها وتساهم في تطوير التعليم في المناطق المهمشة. عندما التحقت سارة بالجامعة، واجهت العديد من التحديات، بما في ذلك الصعوبات المالية والتكيف مع الحياة الجامعية بعيدًا عن عائلتها، بالإضافة إلى التحديات الأكاديمية في تخصص التربية. سارة كانت دائمًا متفوقة في دراستها، وواجهت العديد من الصعوبات بشجاعة وإصرار. كانت تشارك بنشاط في الأنشطة الطلابية والمبادرات التعليمية، وتستغل كل فرصة لتطبيق ما تعلمته في الفصول الدراسية في بيئات تعليمية حقيقية. خلال السنة الثانية، تطوعت سارة للعمل في برنامج تعليمي يستهدف الأطفال في المناطق ذات الدخل المنخفض، حيث طورت طرقًا مبتكرة لتعليم القراءة والكتابة باستخدام موارد محدودة. هذه التجربة عززت إيمانها بأهمية التعليم كأداة للتغيير الاجتماعي. في السنة الثالثة، قامت سارة بإجراء بحث حول تحديات التعليم في المناطق الريفية وقدمت توصيات عملية لتحسين الوصول إلى التعليم الجيد. نال بحثها تقديرًا كبيرًا من أساتذتها وتم نشره في مجلة تربوية محلية. بفضل عزيمتها، حصلت سارة على فرصة للتدريب مع إحدى المؤسسات التعليمية الكبرى التي تعمل على تطوير المناهج الدراسية في الأردن. خلال فترة التدريب، قدمت أفكارًا مبتكرة لدمج التكنولوجيا في التدريس وتعزيز التفكير النقدي لدى الطلاب. قبل التخرج، أسست سارة مبادرة طلابية تهدف إلى توفير الدعم التعليمي للطلاب المتعثرين أكاديميًا، وجذبت المبادرة اهتمام العديد من المتطوعين والداعمين. اليوم، تعمل سارة كمعلمة في مدرسة في منطقتها الأصلية، حيث تطبق الأساليب التعليمية المبتكرة التي تعلمتها، وتعمل على إلهام جيل جديد من الطلاب. بالإضافة إلى ذلك، تواصل دراستها العليا في مجال تكنولوجيا التعليم، وتطمح لتأسيس مركز تعليمي متخصص يخدم المناطق المهمشة."
    },
    {
      id: 9,
      fullname: "عمر جاسم",
      university: "جامعة الملك عبد الله الثاني",
      major: "الحقوق",
      story: "عمر كان طالبًا متميزًا في مجال الحقوق، ورغم التحديات التي واجهته في بداية دراسته، إلا أنه استطاع التغلب عليها...",
      fullStory: "عمر جاسم طالب طموح في كلية الحقوق بجامعة الملك عبد الله الثاني، نشأ في عائلة متوسطة الدخل وكان أول فرد فيها يدرس القانون. منذ صغره، كان عمر شغوفًا بمفاهيم العدالة وحقوق الإنسان، وكان يحلم بأن يصبح محاميًا يدافع عن حقوق الفئات المهمشة في المجتمع. عندما التحق عمر بكلية الحقوق، واجه تحديات كبيرة في فهم المصطلحات القانونية المعقدة والتعامل مع كمية هائلة من النصوص القانونية. كان يجد صعوبة في متابعة المحاضرات والمناقشات القانونية المتقدمة، خاصة في السنة الأولى. عمر كان دائمًا يواجه تحديات كبيرة، لكنه استطاع تجاوزها بفضل إرادته القوية وعزيمته التي لا تلين. وضع لنفسه جدولًا دراسيًا صارمًا، وبدأ في تشكيل مجموعات دراسية مع زملائه، ..."
    },
  ];

  const [selectedStory, setSelectedStory] = useState(null);

  const openPopup = (story) => {
    setSelectedStory(story);
  };

  const closePopup = () => {
    setSelectedStory(null);
  };

  return (
    <div className="w-full max-w-6xl mx-auto p-8 rtl bg-gradient-to-b from-white to-[#f5e6f0] mt-16">
      {/* Page Content */}
      <div className="text-center mb-12">
        <h2 className="text-4xl font-bold mb-4 text-[#940066] inline-block relative">
          <span className="absolute bottom-0 left-0 w-full h-1 bg-[#940066] rounded-full"></span>
        </h2>
        
        <p className="text-lg text-[#5a0052] max-w-3xl mx-auto leading-relaxed mt-6">
          نحن فخورون بتقديم قصص نجاح لطلاب من مختلف الجامعات الحكومية الأردنية 
          الذين أثبتوا أن التحديات يمكن التغلب عليها بالعزيمة والإصرار.
        </p>
      </div>

      <div className="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8">
        {stories.map((story) => (
          <div
            key={story.id}
            className="bg-white rounded-xl shadow-lg overflow-hidden transform transition-all duration-300 hover:scale-105 hover:shadow-2xl flex flex-col h-full"
            style={{ 
              borderTop: "6px solid #940066",
              boxShadow: "0 10px 25px rgba(148, 0, 102, 0.1)"
            }}
          >
            <div className="p-6 flex flex-col h-full">
              <div className="mb-auto">
                <h3 className="text-2xl font-bold text-[#940066] mb-3">{story.fullname}</h3>
                <div className="flex items-center mb-2">
                  <svg className="w-5 h-5 text-[#940066] mr-2" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
                    <path d="M10.394 2.08a1 1 0 00-.788 0l-7 3a1 1 0 000 1.84L5.25 8.051a.999.999 0 01.356-.257l4-1.714a1 1 0 11.788 1.838l-2.727 1.17 1.94.831a1 1 0 00.787 0l7-3a1 1 0 000-1.838l-7-3zM3.31 9.397L5 10.12v4.102a8.969 8.969 0 00-1.05-.174 1 1 0 01-.89-.89 11.115 11.115 0 01.25-3.762zM9.3 16.573A9.026 9.026 0 007 14.935v-3.957l1.818.78a3 3 0 002.364 0l5.508-2.361a11.026 11.026 0 01.25 3.762 1 1 0 01-.89.89 8.968 8.968 0 00-5.35 2.524 1 1 0 01-1.4 0zM6 18a1 1 0 001-1v-2.065a8.935 8.935 0 00-2-.712V17a1 1 0 001 1z" />
                  </svg>
                  <span className="text-[#660066]">{story.university}</span>
                </div>
                <div className="flex items-center mb-4">
                  <svg className="w-5 h-5 text-[#940066] mr-2" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
                    <path fillRule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-3a1 1 0 00-.867.5 1 1 0 11-1.731-1A3 3 0 0113 8a3.001 3.001 0 01-2 2.83V11a1 1 0 11-2 0v-1a1 1 0 011-1 1 1 0 100-2zm0 8a1 1 0 100-2 1 1 0 000 2z" clipRule="evenodd" />
                  </svg>
                  <span className="text-[#660066] font-medium">{story.major}</span>
                </div>
                <p className="text-gray-700 text-base leading-relaxed mb-6">
                  {story.story.length > 120 ? story.story.substring(0, 120) + "..." : story.story}
                </p>
              </div>
              <button
                className="w-full py-3 rounded-lg bg-gradient-to-r from-[#940066] to-[#660046] hover:from-[#800052] hover:to-[#4d0033] text-white text-base font-semibold transition-all duration-300 transform hover:translate-y-[-2px] focus:outline-none focus:ring-2 focus:ring-[#940066] focus:ring-opacity-50"
                onClick={() => openPopup(story)}
              >
                اقرأ المزيد
              </button>
            </div>
          </div>
        ))}
      </div>

      {/* Popup للمزيد من التفاصيل */}
      {selectedStory && (
        <div className="fixed inset-0 bg-black bg-opacity-60 flex justify-center items-center z-50 p-4">
          <div className="bg-white rounded-xl shadow-2xl p-8 w-full max-w-2xl max-h-[90vh] overflow-y-auto relative transform transition-all animate-fadeIn">
            <button
              className="absolute top-4 left-4 w-8 h-8 flex items-center justify-center rounded-full bg-[#940066] text-white hover:bg-[#800052] transition-colors"
              onClick={closePopup}
            >
              <svg xmlns="http://www.w3.org/2000/svg" className="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                <path fillRule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clipRule="evenodd" />
              </svg>
            </button>

            <div className="text-center mb-6">
              <h3 className="text-3xl font-bold text-[#940066] mb-3">{selectedStory.fullname}</h3>
              <div className="w-16 h-1 bg-[#940066] mx-auto rounded-full mb-4"></div>
            </div>
            
            <div className="flex items-center justify-center space-x-8 mb-6 text-center">
              <div className="flex flex-col items-center">
                <svg className="w-6 h-6 text-[#940066] mb-2" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
                  <path d="M10.394 2.08a1 1 0 00-.788 0l-7 3a1 1 0 000 1.84L5.25 8.051a.999.999 0 01.356-.257l4-1.714a1 1 0 11.788 1.838l-2.727 1.17 1.94.831a1 1 0 00.787 0l7-3a1 1 0 000-1.838l-7-3zM3.31 9.397L5 10.12v4.102a8.969 8.969 0 00-1.05-.174 1 1 0 01-.89-.89 11.115 11.115 0 01.25-3.762zM9.3 16.573A9.026 9.026 0 007 14.935v-3.957l1.818.78a3 3 0 002.364 0l5.508-2.361a11.026 11.026 0 01.25 3.762 1 1 0 01-.89.89 8.968 8.968 0 00-5.35 2.524 1 1 0 01-1.4 0zM6 18a1 1 0 001-1v-2.065a8.935 8.935 0 00-2-.712V17a1 1 0 001 1z" />
                </svg>
                <span className="text-[#660066] font-medium">{selectedStory.university}</span>
              </div>
              <div className="flex flex-col items-center">
                <svg className="w-6 h-6 text-[#940066] mb-2" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
                  <path fillRule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-3a1 1 0 00-.867.5 1 1 0 11-1.731-1A3 3 0 0113 8a3.001 3.001 0 01-2 2.83V11a1 1 0 11-2 0v-1a1 1 0 011-1 1 1 0 100-2zm0 8a1 1 0 100-2 1 1 0 000 2z" clipRule="evenodd" />
                </svg>
                <span className="text-[#660066] font-medium">{selectedStory.major}</span>
              </div>
            </div>

            <div className="bg-[#f9edf5] p-6 rounded-lg mb-6 border-r-4 border-[#940066]">
              <p className="text-gray-800 text-lg leading-relaxed">
                {selectedStory.fullStory}
              </p>
            </div>
            
            <div className="text-center">
              <button
                className="px-8 py-3 bg-gradient-to-r from-[#940066] to-[#660046] text-white rounded-lg hover:from-[#800052] hover:to-[#4d0033] transition-all duration-300 font-bold focus:outline-none focus:ring-2 focus:ring-[#940066] focus:ring-opacity-50"
                onClick={closePopup}
              >
                إغلاق
              </button>
            </div>
          </div>
        </div>
      )}
    </div>
  );
};

export default SuccessStoriesCards;